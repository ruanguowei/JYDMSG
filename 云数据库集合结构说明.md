# 云数据库集合结构说明

## 📊 专家数据库集合 (experts)

### 集合名称
`experts`

### 字段结构
```json
{
  "_id": "自动生成的文档ID",
  "expertCode": "专家代码，如：EXP001",
  "expertName": "专家姓名，如：金文伟",
  "expertTitle": "专家职称，如：教授、博士生导师",
  "expertPosition": "专家职务，如：景德镇陶瓷大学学术委员会、龙泉研究院执行院长",
  "expertType": "专家类型：preliminary(初评) 或 final(终评)",
  "expertCountry": "专家国家，如：中国、英国、美国（可选字段）",
  "status": "状态：active(活跃) 或 inactive(非活跃)",
  "createTime": "创建时间",
  "updateTime": "更新时间"
}
```

### 示例数据
```json
{
  "expertCode": "EXP001",
  "expertName": "金文伟",
  "expertTitle": "教授、博士生导师",
  "expertPosition": "景德镇陶瓷大学学术委员会、龙泉研究院执行院长、留学人员联谊会会长",
  "expertType": "preliminary",
  "expertCountry": "中国",
  "status": "active",
  "createTime": "2025-01-01T00:00:00.000Z",
  "updateTime": "2025-01-01T00:00:00.000Z"
}
```

## 📝 专家登录日志集合 (expertLoginLogs)

### 集合名称
`expertLoginLogs`

### 字段结构
```json
{
  "_id": "自动生成的文档ID",
  "expertId": "专家ID，关联experts集合",
  "expertCode": "专家代码",
  "expertName": "专家姓名",
  "loginTime": "登录时间",
  "ip": "登录IP地址"
}
```

## 🎨 作品提交集合 (potterySubmissions)

### 集合名称
`potterySubmissions`

### 字段结构
```json
{
  "_id": "自动生成的文档ID",
  "title": "作品标题",
  "authorName": "作者姓名",
  "schoolName": "学校名称",
  "category": "作品分类：technique/culture/algorithm/industry/vision",
  "imageUrl": "作品图片URL",
  "description": "作品描述",
  "status": "状态：submitted(已提交)",
  "submitTime": "提交时间",
  "evaluations": [
    {
      "expertId": "专家ID",
      "expertName": "专家姓名",
      "themeFit": "主题契合度分数",
      "creativity": "创意与表现力分数",
      "craftsmanship": "工艺与材料分数",
      "aesthetics": "美感与实用性分数",
      "totalScore": "总分",
      "evaluationTime": "评分时间",
      "ip": "评分IP地址"
    }
  ],
  "lastEvaluationTime": "最后评分时间"
}
```

## 📊 评分日志集合 (evaluationLogs)

### 集合名称
`evaluationLogs`

### 字段结构
```json
{
  "_id": "自动生成的文档ID",
  "submissionId": "作品ID，关联potterySubmissions集合",
  "expertId": "专家ID，关联experts集合",
  "expertName": "专家姓名",
  "scores": {
    "themeFit": "主题契合度分数",
    "creativity": "创意与表现力分数",
    "craftsmanship": "工艺与材料分数",
    "aesthetics": "美感与实用性分数"
  },
  "totalScore": "总分",
  "evaluationTime": "评分时间",
  "ip": "评分IP地址"
}
```

## 🛠 在云开发后台创建集合

### 步骤1：登录云开发控制台
1. 访问 [微信云开发控制台](https://console.cloud.tencent.com/tcb)
2. 选择对应的小程序项目
3. 进入"数据库"页面

### 步骤2：创建集合
1. 点击"新建集合"
2. 创建以下集合：
   - `experts` (专家数据库)
   - `expertLoginLogs` (专家登录日志)
   - `potterySubmissions` (作品提交)
   - `evaluationLogs` (评分日志)

### 步骤3：设置权限
建议设置以下权限：
- `experts`: 仅管理员可读写，小程序只读
- `expertLoginLogs`: 小程序可写，管理员可读
- `potterySubmissions`: 小程序可读写
- `evaluationLogs`: 小程序可写，管理员可读

### 步骤4：导入专家数据
在 `experts` 集合中手动添加专家数据，参考上面的示例数据格式。

## 📋 专家名单数据模板

### 初评评委数据
```json
[
  {
    "expertCode": "EXP001",
    "expertName": "金文伟",
    "expertTitle": "教授、博士生导师",
    "expertPosition": "景德镇陶瓷大学学术委员会、龙泉研究院执行院长、留学人员联谊会会长",
    "expertType": "preliminary",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP002",
    "expertName": "张三聪",
    "expertTitle": "教授、硕士研究生导师",
    "expertPosition": "景德镇陶瓷大学设计艺术学院副院长",
    "expertType": "preliminary",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP003",
    "expertName": "吴天麟",
    "expertTitle": "教授，中国陶瓷艺术大师",
    "expertPosition": "享受国务院政府特殊津贴专家、江西省美术家协会理事，江西省工艺美术学会副理事长，中国陶瓷工业协会陶瓷艺术委员会常务理事",
    "expertType": "preliminary",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP004",
    "expertName": "徐辉",
    "expertTitle": "副教授",
    "expertPosition": "景德镇艺术职业大学陶瓷艺术与设计学院院长、2023江西省'双千计划'文化艺术领军人才",
    "expertType": "preliminary",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP005",
    "expertName": "郑志巍",
    "expertTitle": "讲师",
    "expertPosition": "景德镇艺术职业大学美术馆副馆长、江西省中级'双师型'教师、高级技师",
    "expertType": "preliminary",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP006",
    "expertName": "黄镇",
    "expertTitle": "馆长",
    "expertPosition": "中央美术学院陶溪川美术馆馆长、中国工艺美术学会雕塑专业委员会会员、中国建筑文化研究会动漫艺术委员会副会长",
    "expertType": "preliminary",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP007",
    "expertName": "方漫",
    "expertTitle": "教授、博士研究生导师",
    "expertPosition": "景德镇学院党委委员、副校长",
    "expertType": "preliminary",
    "expertCountry": "中国",
    "status": "active"
  }
]
```

### 终评评委数据
```json
[
  {
    "expertCode": "EXP008",
    "expertName": "Felicity Aylieff",
    "expertTitle": "导师",
    "expertPosition": "英国皇家艺术学院陶瓷与玻璃系研究生和博士生的导师",
    "expertType": "final",
    "expertCountry": "英国",
    "status": "active"
  },
  {
    "expertCode": "EXP009",
    "expertName": "何善影",
    "expertTitle": "教授",
    "expertPosition": "美国纽约市立城市大学皇后学院教授、中国景德镇陶溪川艺术中心高级顾问、美国分水岭陶瓷艺术中心董事会会员、美国纽约陶瓷博物馆董事会会员",
    "expertType": "final",
    "expertCountry": "美国",
    "status": "active"
  },
  {
    "expertCode": "EXP010",
    "expertName": "万里雅",
    "expertTitle": "艺术家",
    "expertPosition": "国际陶艺学会IAC理事—中国区代表（国际陶艺学会IAC，是联合国教科文组织文化合作机构）",
    "expertType": "final",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP011",
    "expertName": "吕品昌",
    "expertTitle": "教授、博士生导师",
    "expertPosition": "中央美术学院教授、景德镇陶瓷大学党委副书记、副校长（主持行政工作），江西省美术家协会第八届理事会主席",
    "expertType": "final",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP012",
    "expertName": "熊开波",
    "expertTitle": "教授、博士生导师",
    "expertPosition": "中国美术学院手工艺术学院副院长（主持工作）",
    "expertType": "final",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP013",
    "expertName": "黄春茂",
    "expertTitle": "教授",
    "expertPosition": "中央美术学院陶瓷设计工作室主任、联合国教科文陶瓷艺术委员会会员",
    "expertType": "final",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP014",
    "expertName": "陆斌",
    "expertTitle": "教授",
    "expertPosition": "南京艺术学院设计学院教授、联合国教科文组织陶艺协会会员(IAC)、中国美术家协会会员，中国美协陶瓷艺委会委员",
    "expertType": "final",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP015",
    "expertName": "王琪",
    "expertTitle": "主任",
    "expertPosition": "广州美术学院工艺美术学院陶瓷艺术设计教研室主任",
    "expertType": "final",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP016",
    "expertName": "郅敏",
    "expertTitle": "教授、博士研究生导师",
    "expertPosition": "中国艺术研究院雕塑院书记、常务副院长",
    "expertType": "final",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP017",
    "expertName": "吴昊宇",
    "expertTitle": "副教授、研究生导师",
    "expertPosition": "清华大学美术学院陶瓷艺术设计系副教授、中国美术家协会陶瓷艺术委员会副秘书长，联合国教科文组织国际陶艺学会会员",
    "expertType": "final",
    "expertCountry": "中国",
    "status": "active"
  },
  {
    "expertCode": "EXP018",
    "expertName": "孟福伟",
    "expertTitle": "教授，硕士生导师",
    "expertPosition": "四川美术学院设计学院教授、重庆市第三批设计学学术技术带头人，中国美术家协会陶瓷艺术委会委员",
    "expertType": "final",
    "expertCountry": "中国",
    "status": "active"
  }
]
```

## 🚚 作品运送集合 (artwork_deliveries)

### 集合名称
`artwork_deliveries`

### 字段结构
```json
{
  "_id": "自动生成的文档ID",
  "_openid": "用户openid",
  "name": "姓名",
  "artworkName": "作品名称", 
  "school": "学校名称",
  "deliveryMethod": "运送方式：快递/自送/委托他人送达",
  "expressCompany": "快递公司名称",
  "trackingNumber": "快递单号",
  "sendDate": "寄出日期",
  "estimatedArrival": "预计到达日期",
  "packageCount": "包裹数量",
  "remarks": "备注说明",
  "packageImages": ["包裹外观照片云存储ID数组"],
  "artworkImages": ["作品包装照片云存储ID数组"],
  "status": "状态：pending(待处理)/received(已接收)/rejected(已拒绝)",
  "createTime": "创建时间",
  "updateTime": "更新时间"
}
```

### 示例数据
```json
{
  "_id": "delivery_001",
  "_openid": "user_openid_123",
  "name": "张三",
  "artworkName": "青花瓷瓶",
  "school": "景德镇陶瓷大学",
  "deliveryMethod": "快递",
  "expressCompany": "顺丰速运",
  "trackingNumber": "SF1234567890",
  "sendDate": "2025-01-15",
  "estimatedArrival": "2025-01-17",
  "packageCount": 1,
  "remarks": "请小心轻放",
  "packageImages": [
    "cloud://your-env.xxx-xxx-xxx/artwork-delivery/package/1703123456789.jpg"
  ],
  "artworkImages": [
    "cloud://your-env.xxx-xxx-xxx/artwork-delivery/artwork/1703123456790.jpg"
  ],
  "status": "pending",
  "createTime": "2025-01-15T10:30:00.000Z",
  "updateTime": "2025-01-15T10:30:00.000Z"
}
```

## ⚠️ 注意事项

1. **数据格式**：请严格按照JSON格式导入数据
2. **字段名称**：字段名称必须与示例完全一致
3. **专家代码**：expertCode必须唯一，格式为EXP001-EXP018
4. **状态设置**：status字段必须设置为"active"才能正常登录
5. **时间格式**：createTime和updateTime会自动生成，无需手动设置
6. **权限设置**：确保小程序有读取experts集合的权限
7. **作品运送集合**：artwork_deliveries集合会自动创建，无需手动创建

## 🔧 测试验证

导入数据后，可以通过以下方式测试：
1. 在小程序中进入"大陶展" → "专家评选"
2. 使用任意专家的expertCode和expertName登录
3. 验证是否能成功进入评选页面
